#{extends 'main.html' /}

#{include 'Repositories/create.html' /}

<div class="block">
    <div class="block_head">
        <div class="bheadl"></div>
        <div class="bheadr"></div>
        <h2>Repositories</h2>
        <ul>
            <li class="nobg">Total: ${repositories?.size}</li>
        </ul>
    </div>

    <div class="block_content">
      #{if repositories }
        <table cellpadding="0" cellspacing="0" width="100%" class="sortable">
            <thead>
                <tr>
                    <th width="10" class="header" style="cursor: pointer;">ID</th>
                    <th class="header" style="cursor: pointer;">Name</th>
                    <th class="header" style="cursor: pointer;">Cat</th>
                    <th class="header" style="cursor: pointer;">is created?</th>
                    <th width="100"></th>
                </tr>
            </thead>
            <tbody>
                #{list items:repositories, as:'repository'}
                    <tr>
                       <td>${repository.id}</td>
                       <td><a href="http://svn.dsv.bradseg.com.br/svn/${repository.name}/trunk">${repository.name}</a></td>
                       <td>${repository.category}</td>
                       <td>${repository.created ? 'Yes':'No'}</td>
                       <td style="text-align:right">
                           <a href="@{Repositories.edit(repository.id)}">Edit</a>&nbsp;
                           <a href="@{Repositories.delete(repository.id)}" onclick="if (!confirm('Are you sure you want to delete this record?')) return false;">Delete</a>
                       </td>
                    </tr>
                #{/list}
            </tbody>
        </table>
      #{/if}
      #{else}
          No data inserted.
      #{/else}  
    </div>
    <div class="bendl"></div>
    <div class="bendr"></div>
</div>

